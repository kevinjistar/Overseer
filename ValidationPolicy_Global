
---
Document: ValidationPolicy_Global
Version: 1.0.0
Date: 2025-12-11
PolicyType: ValidationPolicy

PolicyVersions:
  WorkflowPolicy: 1.0.0
  VersioningPolicy: 1.0.0
  CorrectionPolicy: 1.0.0

Changelog:
  - 1.0.0 (2025-12-11): Création de la policy officielle de validation globale, intégrant SuperiorValidationAgent, les modes normal/correction et les niveaux de validation locale/globale.

Breaking Changes: Aucun depuis 1.0.0
---

1. Objet de la policy

La ValidationPolicy_Global définit:
- quand une validation sémantique doit être déclenchée,
- à quel niveau (locale ou globale),
- comment SuperiorValidationAgent est utilisé,
- quelles décisions Overseer peut prendre selon les verdicts,
- les règles spécifiques au mode correction.

Elle s’applique à toutes les opérations de mise à jour de documents référents dans Overseer.


2. Niveaux de validation

Deux niveaux de validation sémantique sont définis:

2.1 Validation locale
Analyse:
- du document candidat,
- de son original,
- du diff direct,
- d’un sous-ensemble minimal de contexte projet.

Objectif:
- vérifier la cohérence sémantique de la modification elle-même.

2.2 Validation globale
Analyse:
- du document candidat,
- des autres documents référents,
- du workflow courant,
- des décisions majeures déjà actées,
- de l’impact systémique.

Objectif:
- détecter les contradictions inter-documents,
- préserver la cohérence globale du projet.


3. Déclenchement des validations

3.1 Validations toujours obligatoires

Validation locale par SuperiorValidationAgent est OBLIGATOIRE pour toute opération de mise à jour.

3.2 Validation globale obligatoire

Validation globale est OBLIGATOIRE lorsque:
- la version demandée est Major,
- une transition de workflow est classée "majeure" par WorkflowPolicy,
- le document est un document racine (Architecture, Strategy, System-Level),
- l’opération est en mode correction,
- l’impact estimé sur le projet est "major" dans le verdict local.

3.3 Validation globale optionnelle

Validation globale est OPTIONNELLE (Overseer décide) lorsque:
- la version est Minor,
- le document est important mais non racine,
- le workflowImpact estimé est "minor",
- le riskLevel est "medium".

3.4 Validation globale non requise

Validation globale peut être omise lorsque:
- la version est Patch,
- le document n’est pas racine,
- le riskLevel est "low",
- le workflowImpact est "none".

Overseer peut toujours forcer une validation globale, même si elle n’est pas requise par la policy.


4. Utilisation de SuperiorValidationAgent

4.1 Appels

SuperiorValidationAgent est appelé:
- une première fois pour validation locale,
- une seconde fois pour validation globale lorsque cette dernière est requise.

4.2 Structure des verdicts

Chaque verdict contient:
- verdict: allow | warn | block,
- reasons,
- impactedDocuments,
- workflowImpact,
- riskLevel,
- recommendedFixes.

4.3 Règles d’interprétation (niveau policy)

- verdict = block:
  - en mode normal: Overseer doit soit corriger, soit annuler; override possible mais exceptionnel.
  - en mode correction: override interdit, correction obligatoire.

- verdict = warn:
  - Overseer peut appliquer, mais doit logguer la décision avec le contexte de risque.

- verdict = allow:
  - Overseer peut appliquer sans justification supplémentaire, sous réserve des autres constraints.


5. Rôle d’Overseer sous cette policy

Sous ValidationPolicy_Global, Overseer doit:

- déclencher systématiquement la validation locale,
- évaluer si la validation globale est requise ou optionnelle selon les règles ci-dessus,
- combiner:
  - verdict(s) de SuperiorValidationAgent,
  - contexte projet,
  - Policies actives,
- prendre la décision finale:
  - appliquer (apply),
  - corriger (correction),
  - annuler (abort).

En cas d’override d’un block en mode normal:
- la décision est marquée comme "exception",
- une entrée de log dédiée est créée,
- une validation globale ultérieure est fortement recommandée.


6. Spécificité du mode correction

Lorsque operationMode = "correction":

- validation locale: OBLIGATOIRE,
- validation globale: OBLIGATOIRE,
- toute proposition avec riskLevel = "medium" ou "high" doit être considérée comme risquée,
- verdict = block:
  - override interdit,
  - Overseer doit demander une nouvelle correction ou annuler,
- aucune transition workflow ne doit être déclenchée durant la correction.

Objectif:
- restaurer la cohérence sans introduire de nouveaux changements structurels majeurs.


7. Intégration avec le pipeline de mise à jour

Cette policy s’intègre au processus standard de mise à jour comme suit:

1. Orchestrateur valide structurellement.
2. SuperiorValidationAgent effectue la validation locale.
3. Overseer détermine si la validation globale est requise.
4. Si requis, SuperiorValidationAgent effectue la validation globale.
5. Overseer décide: apply / correction / abort, conformément à cette policy.


8. Invariants de la ValidationPolicy_Global

Cette policy garantit:

- aucune écriture sans validation locale,
- une validation globale pour toutes les opérations structurantes,
- un comportement plus strict en mode correction,
- une séparation nette entre:
  - validation structurelle (orchestrateur),
  - validation sémantique (SuperiorValidationAgent),
  - décision métier finale (Overseer),
- une traçabilité explicite des décisions risquées ou exceptionnelles.

Fin du document.
