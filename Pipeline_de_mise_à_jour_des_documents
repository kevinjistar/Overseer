
---
Document: Policies_Versioning_Spec
Version: 1.1.0
Date: 2025-12-12

PolicyVersions:
  VersioningPolicy: 1.0.0
  ValidationPolicy_Global: 1.0.0
  WorkflowPolicy: 1.0.0
  CorrectionMode_Policy: 1.0.0
  System_Agent_Edit_Policy: 1.0.0
---

# Spécification des Policies de Versioning

## 1. Objet du document

Ce document définit de manière normative et canonique:

• le modèle de versioning applicable à **tous les artefacts du système Overseer**,  
• le versioning des **Policies**,  
• le versioning des **documents de spécification**,  
• le versioning des **documents référents en base**,  
• les règles de compatibilité, de progression, de migration et de traçabilité,  
• les contraintes applicables en mode correction,  
• la manière dont Overseer, SuperiorValidationAgent et l’orchestrateur utilisent ces règles.

Ce document est **référentiel**.  
Toute divergence dans un autre document constitue une incohérence à corriger.

Les agents ne consultent jamais ce document directement.  
Overseer en est l’unique interprète et injecteur.

---

## 2. Définitions fondamentales

### 2.1 Policy

Une Policy est un document référent système contenant:
• des règles normatives explicites,  
• une version indépendante,  
• un périmètre d’application clair,  
• des invariants,  
• une gouvernance d’évolution.

Une Policy ne modifie jamais directement le système.  
Elle gouverne les décisions d’Overseer et contraint structurellement l’orchestrateur.

### 2.2 Document de spécification

Un document de spécification décrit une partie du système Overseer:
• architecture,  
• pipeline,  
• processus,  
• rôle,  
• schéma,  
• policy.

Chaque document de spécification possède **sa propre ligne de version indépendante**.

### 2.3 Artefact versionnable

Sont considérés comme artefacts versionnables:
• Policies,  
• documents de spécification,  
• documents référents projet,  
• schémas,  
• workflows,  
• snapshots.

Le versioning est **obligatoire** pour tout artefact versionnable.

---

## 3. Principe central du versioning

### 3.1 Format unique

Tout versioning suit strictement le format:

X.Y.Z

• X = Major  
• Y = Minor  
• Z = Patch  

Aucune autre convention n’est autorisée.

### 3.2 Indépendance absolue des versions

Chaque artefact évolue selon **sa propre ligne de version**.  
Il n’existe **aucune version globale du système Overseer**.

La cohérence globale est assurée par:
• les schémas,  
• les Policies,  
• les PolicyVersions déclarées,  
• l’injection explicite des règles par Overseer.

---

## 4. Policies officielles reconnues

Les seules Policies reconnues par le système sont:

• VersioningPolicy  
• WorkflowPolicy  
• ValidationPolicy_Global  
• CorrectionMode_Policy  
• System_Agent_Edit_Policy  

Toute Policy non listée ici est **ignorée par le système** et constitue une erreur de gouvernance.

---

## 5. Sémantique Major / Minor / Patch pour les Policies

### 5.1 Major (X+1.0.0)

Une montée de version Major correspond à:
• modification d’un invariant,  
• changement de comportement métier,  
• évolution incompatible,  
• modification des règles de sécurité ou de correction,  
• changement de format ou de structure attendue.

Effets:
• migration explicite requise,  
• documents existants potentiellement incompatibles,  
• validation globale obligatoire.

### 5.2 Minor (X.Y+1.0)

Correspond à:
• ajout de règles non disruptives,  
• extension compatible,  
• nouveaux cas supportés,  
• renforcement sans rupture.

Effets:
• compatibilité descendante maintenue,  
• application automatique par Overseer après activation.

### 5.3 Patch (X.Y.Z+1)

Correspond à:
• correction interne,  
• clarification rédactionnelle,  
• précision sans impact comportemental réel.

Effets:
• aucune migration requise.

---

## 6. Sémantique Major / Minor / Patch pour les documents de spécification

### 6.1 Major

Un document doit incrémenter sa Major si la modification:
• change le rôle ou la responsabilité d’un acteur,  
• modifie un invariant architectural,  
• modifie un pipeline officiel,  
• change l’interprétation correcte du document,  
• introduit ou supprime une capacité structurante.

Règle absolue:
Un changement d’interprétation **n’est jamais un Patch**.

### 6.2 Minor

Une Minor correspond à:
• ajout de précision importante,  
• extension d’un processus existant,  
• ajout de cas sans invalider les précédents,  
• renforcement normatif sans rupture.

### 6.3 Patch

Un Patch correspond uniquement à:
• correction rédactionnelle,  
• clarification sans impact opérationnel,  
• amélioration de lisibilité sans changement de sens.

### 6.4 Principe de prudence

En cas de doute:
• Minor prévaut sur Patch,  
• Major prévaut sur Minor.

---

## 7. Règles de progression des versions

• aucune version ne peut être décrémentée,  
• Major impose X+1.0.0,  
• Minor impose X.Y+1.0,  
• Patch impose X.Y.Z+1.

Toute violation entraîne un **rejet structurel immédiat**.

---

## 8. Versioning et snapshots

• toute version Major déclenche un snapshot obligatoire,  
• toute version Minor peut déclencher un snapshot selon Policy,  
• les versions Patch suivent la politique de rétention définie.

Les snapshots sont:
• créés exclusivement par l’orchestrateur,  
• jamais par un agent,  
• jamais par Overseer.

---

## 9. Versioning en mode correction

Lorsque correctionMode = true:

• seules les versions Patch sont autorisées,  
• toute Major ou Minor est interdite,  
• la stabilité prévaut sur l’évolutivité,  
• toute tentative contraire est bloquée.

---

## 10. Déclaration des PolicyVersions

### 10.1 Dans les documents de spécification

Chaque document de spécification doit déclarer explicitement:

PolicyVersions:
  versioningPolicy: "X.Y.Z"
  validationPolicy: "X.Y.Z"
  workflowPolicy: "X.Y.Z"
  correctionPolicy: "X.Y.Z"
  agentEditPolicy: "X.Y.Z"

### 10.2 Dans les documents référents (en base)

Chaque document référent doit contenir:

meta.appliedPolicies:
  versioningPolicy: "X.Y.Z"
  validationPolicy: "X.Y.Z"
  workflowPolicy: "X.Y.Z"
  correctionPolicy: "X.Y.Z"
  agentEditPolicy: "X.Y.Z"

Ces valeurs représentent **le cadre logique exact** lors de la dernière écriture validée.

---

## 11. Injection obligatoire dans les instructions agents

Les agents ne lisent aucun document.

Overseer doit injecter dans chaque instruction:

instructionMeta:
  policyVersions:
    versioningPolicy: "X.Y.Z"
    validationPolicy: "X.Y.Z"
    workflowPolicy: "X.Y.Z"
    correctionPolicy: "X.Y.Z"
    agentEditPolicy: "X.Y.Z"

L’orchestrateur vérifie uniquement la présence et la conformité structurelle de ces champs.

---

## 12. Migrations

Une migration est requise lorsque:
• une Policy Major évolue,  
• un document Major modifie un invariant.

Procédure:
1. Détection par Overseer  
2. Passage éventuel en correctionMode  
3. Mise à jour contrôlée via agents producteurs  
4. Validation par SuperiorValidationAgent  
5. Écriture par l’orchestrateur  
6. Snapshot avant et après

Aucune migration implicite n’est autorisée.

---

## 13. Invariants du versioning

Toujours vrais:

• versioning obligatoire pour tout artefact,  
• indépendance totale des lignes de version,  
• aucune décision de versioning côté agent,  
• application mécanique par l’orchestrateur,  
• compatibilité déterminée par PolicyVersions,  
• aucune écriture sans version valide,  
• correctionMode verrouille toute évolution non corrective,  
• toute incompatibilité majeure bloque l’opération.

---
Fin du document
---

Document Metadata & Changelog

Changelog:
  - 1.1.0 (2025-12-12): Fusion normative des deux versions, réintégration des invariants de versioning global des artefacts, clarification des règles applicables aux documents de spécification et alignement strict avec Overseer v2.
  - 1.0.0 (2025-12-10): Création de la spécification des policies de versioning.

Breaking Changes:
  - Aucun.
