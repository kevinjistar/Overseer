---
Document: Policies_Versioning_Spec
Version: 1.0.0
Date: 2025-12-20

PolicyVersions:
  ValidationPolicy_Global: 1.0.0
  WorkflowPolicy: 1.0.0
  CorrectionMode_Policy: 1.0.0
  System_Agent_Edit_Policy: 1.0.0
---

1. Objet du document

Ce document définit le cadre normatif unique du versioning dans Overseer, couvrant:
• le modèle de versioning appliqué aux Policies du système,  
• le modèle de versioning applicable aux documents de spécification,  
• la déclaration des dépendances de PolicyVersions dans les documents,  
• les règles de compatibilité, de contradiction, de migration et de traçabilité,  
• la méthode d’injection des contraintes dans les instructions agents.

Ce document est canonique.
Toute divergence dans un autre document constitue une incohérence à corriger.

Règle d’accès:
• Les agents producteurs ne consultent jamais ce document.  
• Overseer charge ce référentiel et injecte les contraintes pertinentes dans chaque systemInstruction.  
• L’orchestrateur ne l’interprète jamais et n’en applique aucune logique métier.

---

2. Définitions

2.1 Policy  
Une Policy est un document normatif décrivant des règles gouvernant un pan du comportement global du système, incluant notamment:
• validation,  
• workflowEngine,  
• correction,  
• édition agentique,  
• versioning.

2.2 Document de spécification  
Un document de spécification décrit une partie du système Overseer, incluant notamment:
• architecture,  
• process,  
• rôles,  
• policies,  
• schémas.

2.3 PolicyVersion  
Une PolicyVersion est un identifiant sémantique au format X.Y.Z appliqué:
• à une Policy,  
• à un document de spécification.

2.4 PolicyVersions dans un document  
PolicyVersions est un bloc déclaratif indiquant les versions minimales des Policies nécessaires pour interpréter correctement un document.
Ce bloc ne donne aucune autonomie aux agents et n’autorise aucune écriture.

---

3. Principe central du versioning

3.1 Indépendance totale des versions  
Chaque document (Policy, spec, process, schéma) évolue selon sa propre ligne de version.  
Il n’existe aucune version globale du système Overseer.

3.2 Cohérence du système  
La cohérence est assurée par:
• les schémas structurels,  
• les Policies actives,  
• les PolicyVersions déclarées dans les documents,  
• l’injection explicite des contraintes par Overseer.

3.3 Autorité d’application  
Les responsabilités suivantes sont non négociables:
• Overseer interprète et applique les Policies et arbitre les exceptions lorsque permis.  
• SuperiorValidationAgent évalue la cohérence sémantique selon les Policies actives.  
• L’orchestrateur applique uniquement des règles structurelles, il n’interprète aucune Policy.  
• Les agents producteurs exécutent strictement les instructions injectées, ils ne déduisent aucune règle.

---

4. Policies officielles reconnues

Les Policies suivantes sont reconnues comme officielles et doivent être traitées comme canoniques:
• VersioningPolicy  
• WorkflowPolicy  
• ValidationPolicy_Global  
• CorrectionMode_Policy  
• System_Agent_Edit_Policy

Toute Policy non listée ici n’est pas reconnue par le système.
Aucune extension implicite n’est autorisée.

---

5. Sémantique X.Y.Z pour les Policies

5.1 Major (X+1.0.0)  
Une Major correspond à:
• modification d’un invariant,  
• changement de comportement métier,  
• évolution rendant certains documents ou process incompatibles,  
• modification des formats attendus,  
• changement des règles de sécurité ou de correction.

Conséquence:
• migration explicite requise.

5.2 Minor (X.Y+1.0)  
Une Minor correspond à:
• ajout de capacité,  
• extension de règles existantes,  
• amélioration non cassante,  
• nouveaux cas supportés sans invalider les anciens.

Conséquence:
• compatibilité ascendante présumée.

5.3 Patch (X.Y.Z+1)  
Un Patch correspond à:
• correction interne,  
• clarification rédactionnelle,  
• précision sans impact comportemental réel.

Conséquence:
• aucune migration attendue.

---

6. Sémantique X.Y.Z pour les documents de spécification

Cette section est normative et s’applique à tous les documents de spécification du système.

6.1 Major (X+1.0.0)  
Un document doit incrémenter sa Major si la modification:
• change le rôle ou la responsabilité d’un acteur (Overseer, orchestrateur, agent),  
• modifie un invariant architectural,  
• change un pipeline officiel,  
• altère l’interprétation correcte du document,  
• introduit ou supprime une capacité structurante,  
• rend une partie du document incompatible avec une version antérieure.

Règle absolue:
Un changement qui modifie la manière dont le document doit être compris ou appliqué n’est jamais un Patch.

6.2 Minor (X.Y+1.0)  
Un document doit incrémenter sa Minor si la modification:
• ajoute une précision importante,  
• complète un process existant,  
• introduit un nouveau cas sans invalider les précédents,  
• renforce une règle sans en changer la nature.

6.3 Patch (X.Y.Z+1)  
Un document doit incrémenter son Patch si la modification:
• corrige une incohérence rédactionnelle,  
• améliore la clarté ou la lisibilité,  
• précise un point déjà implicite,  
• n’a aucun impact sur l’interprétation opérationnelle.

6.4 Principe de prudence  
En cas de doute entre Minor et Patch, la Minor prévaut.  
En cas de doute entre Minor et Major, la Major prévaut.

---

7. Compatibilité et contradictions

7.1 Compatibilité  
Un document est compatible s’il respecte:
• les invariants des Policies déclarées,  
• les règles en vigueur à la PolicyVersion indiquée,  
• les schémas associés.

7.2 Contradictions de PolicyVersions  
Si un document référence des PolicyVersions incompatibles:
• Overseer bloque l’opération,  
• Overseer exige une migration ou une correction,  
• Overseer journalise l’anomalie.

Aucune écriture ne doit avoir lieu dans ce cas.
Aucune exception implicite n’est autorisée.

---

8. Déclaration des PolicyVersions

8.1 Dans les documents de spécification  
Chaque document de spécification doit déclarer explicitement les PolicyVersions dont il dépend.
Aucune dépendance implicite n’est autorisée.

8.2 Dans les documents référents persistés  
Chaque document référent persisté doit contenir un bloc meta.appliedPolicies indiquant l’état logique du système lors de la dernière écriture validée.

Forme normative attendue:

meta.appliedPolicies:
  versioningPolicy: "X.Y.Z"
  validationPolicy: "X.Y.Z"
  workflowPolicy: "X.Y.Z"
  correctionPolicy: "X.Y.Z"
  agentEditPolicy: "X.Y.Z"

Ces valeurs:
• décrivent le cadre logique effectif sous lequel la version a été écrite,  
• permettent la migration contrôlée,  
• rendent les divergences traçables.

---

9. Injection obligatoire dans les instructions agents

9.1 Principe  
Les agents ne lisent aucun document de spécification.
Ils exécutent une instruction.

Overseer doit injecter dans chaque instruction agent:
• les règles de versioning applicables,  
• les invariants d’édition,  
• le mode opérationnel,  
• toute contrainte pertinente issue des Policies nécessaires.

9.2 Preuve d’injection  
Chaque instruction agent doit contenir un bloc instructionMeta.policyVersions sous forme normative:

instructionMeta:
  policyVersions:
    versioningPolicy: "X.Y.Z"
    validationPolicy: "X.Y.Z"
    workflowPolicy: "X.Y.Z"
    correctionPolicy: "X.Y.Z"
    agentEditPolicy: "X.Y.Z"

9.3 Rôle de l’orchestrateur  
L’orchestrateur vérifie uniquement:
• la présence de ces champs,  
• leur conformité structurelle.

L’orchestrateur:
• n’interprète aucune Policy,  
• ne déduit aucune compatibilité,  
• ne prend aucune décision métier.

---

10. Migrations

10.1 Déclenchement  
Une migration est requise lors d’un changement Major:
• d’une Policy,  
• ou d’un document de spécification impactant un invariant.

10.2 Procédure  
Les étapes sont strictement séquentielles:
• détection par Overseer,  
• passage en correctionMode si nécessaire,  
• production contrôlée via agents,  
• validation par SuperiorValidationAgent,  
• écriture par l’orchestrateur.

10.3 Journalisation  
Toute migration doit être journalisée avec:
• snapshot avant,  
• snapshot après,  
• operationId,  
• identification des PolicyVersions impliquées.

Aucune migration implicite n’est autorisée.

---

11. Invariants

Toujours vrais:

• Les versions des documents sont indépendantes.  
• Les Policies gouvernent le comportement global.  
• La compatibilité dépend des PolicyVersions, pas d’une version globale.  
• Les agents ne consultent jamais les documents de spécification.  
• Overseer injecte toutes les contraintes pertinentes dans les instructions.  
• L’orchestrateur n’interprète aucune Policy et n’exécute aucune logique métier.  
• Toute incompatibilité majeure déclenche un blocage ou une correction contrôlée.

---
Fin du document
---

Document Metadata & Changelog

Changelog:
  - 1.0.0 (2025-12-20) : Initialisation de la version de référence du document.

Breaking Changes:
  - Aucun (baseline pré-système)
