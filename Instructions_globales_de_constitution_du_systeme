---
Document: Instructions_globales_de_constitution_du_systeme
Version: 3.1.1
Date: 2025-12-20

PolicyVersions:
  ValidationPolicy_Global: 1.0.0
  WorkflowPolicy: 1.0.0
  CorrectionMode_Policy: 1.0.0
  System_Agent_Edit_Policy: 1.0.0
---

1. Objet du document

Ce document définit l’ordre officiel, les dépendances, les priorités et les règles de cohérence nécessaires pour assembler, charger, initialiser et maintenir Overseer dans un état interprétable, stable et non dérivable.

Ce document sert de:
- guide de constitution (ordre de chargement),
- référentiel de dépendances,
- référentiel de priorités documentaires,
- protocole de réaction en cas d’incohérence (blocage, correctionMode, halted).

2. Portée et contraintes de lecture

2.1 Portée

Le présent document couvre:
- l’ordre de constitution des artefacts de structure (schémas, structures de stockage, structures d’exécution),
- l’ordre de constitution des artefacts normatifs (Policies),
- l’ordre de constitution des artefacts comportementaux (spécifications des rôles et interactions),
- l’ordre de constitution des processus opérationnels (pipelines, workflow, sync, chargements de contexte),
- la couche UX et gouvernance d’usage (modes, sélection de projet).

2.2 Contrainte de non-interprétation implicite

Aucun lecteur ne doit déduire des règles implicites à partir d’un ordre “habituel” ou d’un usage passé.
Toute dépendance doit être explicite dans ce document ou dans la spécification du composant concerné.
En cas de contradiction, l’option la plus stricte prévaut (blocage puis correction contrôlée).

3. Principes de constitution

3.1 Séparation des responsabilités

- Overseer est l’unique autorité métier (décision, orchestration, application des Policies, correctionMode).
- L’orchestrateur est l’unique exécuteur structurel (lectures, validations structurelles, écritures, snapshots, logs, exécution structurelle du Workflow Engine sur ordre d’Overseer).
- SuperiorValidationAgent est un vérificateur sémantique (local, global) et ne décide pas.
- CorrectiveAgent est l’unique agent autorisé à produire une correction en operationMode = "correction", sous les restrictions de CorrectionMode_Policy.
- Les agents producteurs sont des exécutants cognitifs (production de JSON strict) et ne décident pas.

3.2 Primauté des artefacts de base

Aucun comportement ne doit être exécuté si les schémas fondamentaux ne sont pas chargés et stables.
Aucune action métier ne doit être exécutée si les Policies ne sont pas chargées et versionnées.
Aucun pipeline opérationnel ne doit être exécuté si les rôles et invariants comportementaux ne sont pas définis.

4. Couches officielles de constitution

La constitution d’Overseer est organisée en cinq couches strictes.

4.1 Couche 1, Fondations structurelles

Contenu attendu:
- schéma universel du Document Référent,
- schéma Projet,
- WorkflowDocumentSpecializedSchema (module spécialisé “Workflow Document”, artefact descriptif non exécutif),
- schéma du Workflow Engine,
- structure de stockage (arborescences attendues en base),
- structure d’exécution de l’orchestrateur (endpoints, entrées, sorties, validations structurelles).

Règles:
- aucun document de process, de policy ou de rôle ne peut être considéré valide si cette couche n’est pas disponible.
- une incohérence de schéma impose blocage des écritures et entrée en correctionMode ou passage en halted selon gravité.

4.2 Couche 2, Policies versionnées

Policies gouvernantes attendues:
- ValidationPolicy_Global
- WorkflowPolicy
- CorrectionMode_Policy
- System_Agent_Edit_Policy

Règles:
- Overseer charge ces Policies avant toute décision métier.
- Les contraintes issues de ces Policies doivent être injectées dans chaque instruction agent.
- L’orchestrateur n’interprète pas les Policies, il vérifie uniquement la conformité structurelle des champs attendus et exécute mécaniquement.

4.3 Couche 3, Spécifications comportementales

Contenu attendu (noms normatifs de référence):
- Overseer_spec (rôle, responsabilités, invariants),
- SuperiorValidationAgent_spec (inputs, outputs, interdictions),
- CorrectiveAgent_spec (inputs, outputs, interdictions, contraintes renforcées en CorrectionMode),
- Role_des_agents,
- Règles_système_des_agents,
- Controle_anti_derive,
- Protocole_d_erreur.

Règles:
- aucun pipeline opérationnel ne doit être exécuté si cette couche n’est pas chargée.
- toute divergence entre un process opérationnel et une spécification comportementale est une incohérence bloquante.

4.4 Couche 4, Processus opérationnels

Contenu attendu:
- processus interne d’appel d’agents,
- Process_mise_a_jour_avec_SuperiorValidationAgent,
- Process_de_chargement_du_contexte_et_des_documents,
- Pipeline_d_entree_des_projets,
- Process_creation_d_un_proje,
- Process_du_Workflow_Engine v2,
- Pipeline_syncExterne (si applicable).

Règles:
- un process ne peut dépendre que des couches 1 à 3, jamais l’inverse.
- un process ne doit jamais introduire de logique métier côté orchestrateur ou côté agent.

4.5 Couche 5, UX et gouvernance

Contenu attendu:
- modes et contrôles utilisateur (boutons, états cognitifs d’Overseer),
- règles de sélection et gestion du currentProject,
- conventions d’usage UX nécessaires à une exploitation cohérente.

Règles:
- cette couche ne doit jamais contourner une Policy.
- cette couche ne doit jamais déclencher directement une écriture, un workflow ou un appel agentique; elle ne modifie que l’état interne d’Overseer, puis Overseer décide.

5. Ordre officiel de chargement

L’ordre de constitution est strict et séquentiel.

5.1 Séquence obligatoire

1. Couche 1, fondations structurelles.
2. Couche 2, Policies versionnées.
3. Couche 3, spécifications comportementales.
4. Couche 4, processus opérationnels.
5. Couche 5, UX et gouvernance.

5.2 Interdiction de démarrage partiel

Overseer ne doit pas autoriser de traitement opérationnel si:
- la Couche 1 est absente, incomplète ou incohérente,
- une Policy de la Couche 2 est absente,
- une spécification critique de la Couche 3 est absente,
- un process requis pour l’opération demandée est absent.

6. Règles de dépendances

6.1 Dépendance vers le bas uniquement

Un artefact d’une couche ne dépend que d’artefacts d’une couche inférieure.
Exemples normatifs:
- un process peut dépendre du Workflow Engine, un Workflow Engine ne dépend d’aucun process.
- une spécification comportementale peut dépendre des Policies, une Policy ne dépend d’aucune spécification comportementale.

6.2 Primauté des Policies

Les Policies gouvernent toutes les couches supérieures.
Toute contradiction entre un artefact supérieur et une Policy impose:
- blocage de l’opération concernée,
- correction contrôlée (correctionMode) si une remédiation est possible.

6.3 Neutralité de l’orchestrateur

L’orchestrateur:
- ne décide pas du métier,
- n’interprète pas les Policies,
- exécute des validations structurelles,
- écrit et journalise mécaniquement selon les ordres d’Overseer.

7. Mise à jour du système

7.1 Mise à jour d’un schéma (Couche 1)

Conséquences minimales attendues:
- mise à jour des validations structurelles côté orchestrateur,
- mise à jour des contraintes injectées aux agents,
- vérification de compatibilité sur les process dépendants,
- migration contrôlée si nécessaire (correctionMode si risque systémique).

7.2 Mise à jour d’une Policy (Couche 2)

Conséquences minimales attendues:
- rechargement des Policies par Overseer,
- mise à jour des process qui invoquent la Policy,
- mise à jour de la spécification d’Overseer si responsabilités, invariants ou comportements sont impactés.

7.3 Mise à jour d’une spécification comportementale (Couche 3)

Conséquences minimales attendues:
- invalidation du cache logique d’Overseer,
- contrôle de cohérence avec les Policies et les process,
- blocage temporaire si l’écart crée une zone d’interprétation.

7.4 Mise à jour d’un process (Couche 4)

Conséquences minimales attendues:
- contrôle de cohérence avec couches 1 à 3,
- aucun impact autorisé sur les invariants métier si non explicitement annoncé.

8. Critères d’un système correctement constitué

Le système est considéré correctement constitué si, simultanément:

- Les schémas fondamentaux sont chargés et cohérents.
- Les quatre Policies gouvernantes sont chargées et interprétables.
- Overseer_spec est compatible avec ces Policies et n’introduit aucune logique interdite côté orchestrateur ou agent.
- SuperiorValidationAgent est défini, isolé et ne produit aucun document.
- CorrectiveAgent_spec existe et borne explicitement la correction en operationMode = "correction".
- Les agents producteurs sont contraints par System_Agent_Edit_Policy et ne peuvent ni écrire, ni déclencher, ni décider.
- Le Workflow Engine ne contient aucune condition métier et n’exécute que sur ordre explicite d’Overseer.
- correctionMode est disponible et bloque les transitions de workflow conformément aux règles.
- La traçabilité (logs, snapshots) existe pour toute opération structurante.

9. Invariants de constitution

Toujours vrais:

- Les Policies gouvernent l’ensemble du système.
- Overseer est l’unique centre de logique métier.
- L’orchestrateur est l’unique exécuteur structurel.
- Les agents sont des exécutants sans autonomie.
- Les schémas sont la base non négociable.
- Un système mal assemblé ne doit jamais fonctionner.
- Toute incohérence impose blocage, puis correctionMode ou halted selon gravité.

---
Fin du document
---

Document Metadata & Changelog

Changelog:
  - 3.1.1 (2025-12-20): Normalisation terminologique et structurelle (workflowEngine, actor/initiatedBy), sans modification normative.
  - 3.1.0 (2025-12-17): Mise à jour des références documentaires (renommages), ajout de CorrectiveAgent_spec comme spécification comportementale obligatoire, suppression des références résiduelles à l’agent validateur obsolète.
  - 3.0.0 (2025-12-15): Mise au format canonique obligatoire, refonte majeure des couches et dépendances pour suppression des références non canoniques, clarification stricte des responsabilités (Overseer, orchestrateur, SuperiorValidationAgent, agents), durcissement des règles de chargement et de blocage en cas d’assemblage incomplet.
  - 2.0.0 (2025-12-11): Refonte complète pour alignement avec Overseer v2, SuperiorValidationAgent, Processus interne v2, Workflow Engine v2, CorrectionMode_Policy et Policies versionnées.
  - 1.0.0 (2025-12-10): Version initiale.

Breaking Changes:
  - Aucun depuis 3.1.0
  - Les noms et dépendances non canoniques (ex: références à des Policies non gouvernantes dans ce document) sont retirés au profit des quatre Policies gouvernantes du système.
  - L’ordre de constitution devient bloquant et interdit tout démarrage partiel sans schémas, Policies et spécifications comportementales chargés.
  - Intégration des Policies versionnées comme fondation obligatoire.
  - L’agent validateur obsolète est remplacé par SuperiorValidationAgent.
  - Séparation stricte structurel / métier dans l’ordre de constitution du système
