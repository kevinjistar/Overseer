---
Document: Global_Overview
Version: 2.1.0
Date: 2025-12-15

PolicyVersions:
  ValidationPolicy_Global: 1.0.0
  WorkflowPolicy: 1.0.0
  CorrectionMode_Policy: 1.0.0
  System_Agent_Edit_Policy: 1.0.0
---

1. Objet du document

Ce document est la référence ultime décrivant l’architecture complète du système Overseer.

Il présente de manière unifiée et hiérarchique:
• la vision globale,  
• la structure conceptuelle,  
• le rôle de chaque entité,  
• les Policies qui gouvernent le système,  
• les processus opérationnels majeurs,  
• la logique fondamentale garantissant la cohérence et l’absence de dérive.

Toute autre documentation du projet doit être cohérente avec ce document maître.


2. Vision fondamentale du système

Overseer est un système multi-agents orchestré, conçu pour:
• maintenir une cohérence documentaire stricte,  
• gouverner l’évolution de projets complexes,  
• empêcher toute dérive autonome,  
• assurer une traçabilité complète et déterministe.

Il est structuré selon quatre couches:

1. Schémas  
2. Policies  
3. Intelligence métier (Overseer + SuperiorValidationAgent)  
4. Exécution structurelle (orchestrateur + Firestore)

Principe fondateur non négociable:

Overseer pense.  
Les agents produisent.  
L’orchestrateur exécute.  
Firestore persiste.

Aucune couche ne peut outrepasser son périmètre de responsabilité.


3. Architecture générale

L’architecture Overseer repose sur une séparation stricte de trois niveaux fonctionnels:

• Niveau métier  
• Niveau sémantique  
• Niveau structurel  

3.1 Niveau métier (Overseer)

Ce niveau porte exclusivement:
• la logique métier,  
• les décisions,  
• les transitions de workflow,  
• le choix du versioning,  
• le raisonnement global,  
• le contrôle final.

Overseer ne valide jamais un schéma et n’écrit jamais directement en base.

3.2 Niveau sémantique (SuperiorValidationAgent)

Ce niveau porte:
• la cohérence locale,  
• la cohérence globale,  
• la détection des contradictions,  
• l’évaluation des risques métier,  
• l’analyse d’impact sur les workflows.

Il ne modifie jamais Firestore et ne produit jamais de documents.

3.3 Niveau structurel (orchestrateur)

Ce niveau assure:
• la validation structurelle,  
• l’application mécanique des écritures,  
• la gestion des snapshots,  
• la journalisation,  
• l’exécution des transitions structurelles de workflow.

Il ne contient aucune logique métier et n’initie aucune action sans ordre explicite d’Overseer.


4. Rôles des entités du système

4.1 Overseer  
Centre unique de décision métier.  
Il:
• interprète l’intention utilisateur,  
• choisit les agents,  
• prépare les systemInstructions,  
• impose versioning et Policies,  
• déclenche les validations sémantiques,  
• autorise ou refuse les écritures,  
• gère correctionMode,  
• ordonne explicitement les transitions workflow.

4.2 AgentsProducteurs  
Ils produisent des documents JSON complets conformes aux schémas.  
Ils n’ont aucune autonomie et suivent strictement System_Agent_Edit_Policy.

4.3 SuperiorValidationAgent  
Il évalue la cohérence sémantique.  
Il retourne allow, warn ou block.  
Il ne décide jamais et n’écrit jamais.

4.4 Orchestrateur  
Il:
• valide structurellement,  
• écrit dans Firestore,  
• applique les transitions structurelles autorisées.

Il n’interprète rien.

4.5 Firestore  
Système de persistance passif, versionné et journalisé.


5. Policies versionnées

Les Policies gouvernent l’intégralité du comportement système.

Liste canonique:
• VersioningPolicy  
• WorkflowPolicy  
• ValidationPolicy_Global  
• CorrectionMode_Policy  
• System_Agent_Edit_Policy  
• Policies_Versioning_Spec  

Elles:
• ne sont jamais optionnelles,  
• doivent être chargées avant Overseer,  
• conditionnent tous les pipelines,  
• sont inscrites dans meta.appliedPolicies.


6. Workflow Engine v2

Le Workflow Engine v2 est une matrice d’états strictement structurelle.

• aucune condition métier,  
• aucune décision autonome,  
• aucune transition implicite.

Overseer décide.  
L’orchestrateur exécute uniquement la transition ordonnée.


7. Pipeline global de mise à jour documentaire

Le pipeline v2 suit la séquence stricte suivante:

1. Intention utilisateur  
2. Analyse métier Overseer  
3. Préparation systemInstruction  
4. Appel agent via orchestrateur  
5. Production JSON  
6. Validation structurelle  
7. Validation sémantique locale  
8. Validation globale (si requise)  
9. Décision Overseer  
10. Écriture Firestore  
11. Transition workflow (si autorisée)  
12. Vérification post-opération  

Aucune étape ne peut être contournée.


8. CorrectionMode

CorrectionMode est un état système de stabilisation.

En correctionMode:
• aucune transition workflow,  
• un seul agent correctif,  
• validation globale obligatoire,  
• restrictions maximales,  
• sortie uniquement après stabilisation validée.


9. Synchronisation externe

Lors d’une synchronisation:
• Overseer passe en mode sync,  
• SuperiorValidationAgent analyse l’impact,  
• aucune transition workflow,  
• aucune écriture non validée.

Le payload externe ne peut jamais restructurer le système.


10. Anti-dérive et protocole d’erreur

Deux niveaux distincts:
• dérive structurelle → orchestrateur (arrêt immédiat),  
• dérive métier → Overseer + SuperiorValidationAgent (correctionMode).

halted est un état critique.  
Seule systemRecovery peut le lever.


11. Mécanisme d’opérations

Toute opération comporte:
• projectId,  
• operationId,  
• appliedPolicies,  
• snapshotId si applicable.

Les opérations sont atomiques et traçables.


12. Cycle de vie complet d’un projet

1. Création via mode création  
2. Initialisation schémas, workflows et snapshots  
3. Sélection d’un currentProject  
4. Travail quotidien via pipelines  
5. Synchronisation externe si nécessaire  
6. Corrections via correctionMode  
7. Recovery si halted  
8. Avancement du workflow structurel et métier


13. Cohérence inter-documents

• Schémas → cohérence structurelle  
• SuperiorValidationAgent → cohérence sémantique  
• Overseer → cohérence métier  

Aucune cohérence n’est déléguée.


14. Invariants fondamentaux

Toujours vrais:

• Aucun agent n’est autonome.  
• Overseer n’écrit jamais en base.  
• L’orchestrateur n’exécute aucune logique métier.  
• SuperiorValidationAgent ne modifie jamais les données.  
• Aucun workflow ne décide seul.  
• Aucune transition automatique.  
• Toute écriture est validée structurellement et sémantiquement.  
• Toute incohérence mène à correctionMode ou halted.  
• Les Policies gouvernent l’ensemble du système.  
• La traçabilité est obligatoire.


15. Résumé exécutif

Overseer est un OS multi-agents déterministe structuré autour de:

1. Structure → orchestrateur  
2. Métier → Overseer  
3. Sémantique → SuperiorValidationAgent  
4. Production → agents  
5. Persistance → Firestore  

L’ensemble fonctionne dans une boucle strictement contrôlée par Overseer.

---
Fin du document
---

Document Metadata & Changelog

Changelog:
  - 2.1.0 (2025-12-15): Correction du Changelog et des métadonnées, clarification des Breaking Changes et alignement explicite avec l’architecture Overseer v2 sans modification du corps normatif.
  - 2.0.0 (2025-12-11): Refonte complète pour alignement avec Overseer v2, Workflow Engine v2, SuperiorValidationAgent, CorrectionMode et pipelines v2.
  - 1.0.0 (2025-12-09): Version initiale du document de vision globale.

Breaking Changes:
  - Centralisation explicite de toute décision métier dans Overseer.
  - Séparation stricte et non réversible entre logique métier, sémantique et structurelle.
  - Interdiction de toute transition automatique ou décision implicite.
  - Introduction de CorrectionMode comme mécanisme obligatoire de stabilisation.
