---
Document: WorkflowDocumentSpecializedSchema
Version: 1.3.0
Date: 2025-12-18

PolicyVersions:
  ValidationPolicy_Global: 1.0.0
  WorkflowPolicy: 1.0.0
  CorrectionMode_Policy: 1.0.0
  System_Agent_Edit_Policy: 1.0.0
---

# WorkflowDocumentSpecializedSchema

## 1. Objet du document

Ce document définit le module spécialisé "Workflow Document" utilisé pour étendre UniversalDocumentSchema via la clé specialized.

## 2. Rôle du document dans le système

Niveau: normatif et structurel.

Ce document sert de référence de structure pour les documents de type “Workflow Document” (métier ou opérationnel) et leurs composants (states, transitions, rules, integrations, validations).

## 3. Statut non exécutif

Règles normatives:

- Un Workflow Document est descriptif et non exécutif.
- Un Workflow Document ne porte jamais l’état courant.
- L’état courant, snapshotable et restaurable, est porté exclusivement par workflowEngine.
- Aucune clé du Workflow Document ne déclenche, n’autorise, ni n’implique une transition exécutée.

## 4. Utilisation comme template de création

Règles normatives:

- Ce document peut être utilisé comme source de génération initiale du workflowEngine uniquement pendant Pipeline_d_entree_des_projets.
- Ce document ne porte jamais currentState.
- Ce document ne déclenche jamais de transition.

## 5. Interdictions

Règles normatives:

- Il est interdit de déduire l’état courant d’un projet depuis un Workflow Document.
- Il est interdit de synchroniser automatiquement workflowEngine vers ce document.

## 6. Module spécialisé

description: "Module spécialisé représentant un workflow métier ou opérationnel. Il étend UniversalDocumentSchema via la clé specialized."

specialized:

  states:
    description: "États décrits au niveau du document lui même, distincts du workflowEngine mais compatibles."
    type: array
    itemStructure:
      id: string
      label: string
      description: string
      metadata:
        type: object
        description: "Métadonnées optionnelles spécifiques au workflow"
      flags:
        type: array
        items: string

  transitions:
    description: "Transitions internes propres à ce Workflow Document."
    type: array
    itemStructure:
      from: string
      to: string
      conditions:
        type: array
        items:
          type:
            string
      notes: string
    rules:
      - "conditions est un champ descriptif, il ne peut jamais être interprété comme une condition exécutable par workflowEngine ou l’orchestrateur."

  rules:
    description: "Règles documentaires à respecter dans le workflow."
    type: array
    itemStructure:
      rule: string
      enforcement: string
      severity:
        type: string
        enum: ["info", "warning", "critical"]

  integrations:
    description: "Lien facultatif avec workflowEngine (utile pour les agents)."
    type: object
    properties:
      engineWorkflowId: string
      syncStateMapping:
        description: "Correspondance descriptive entre les états internes du document et ceux du workflowEngine."
        type: array
        items:
          type: object
          properties:
            documentState: string
            engineState: string
    rules:
      - "engineWorkflowId et syncStateMapping servent uniquement à la correspondance descriptive, ils ne définissent jamais currentState."

  validations:
    description: "Règles de validation supplémentaires propres au Workflow Document."
    type: array
    itemStructure:
      field: string
      rule: string
      message: string

## 7. Invariants

Toujours vrais:

- Aucune exécution ne dépend d’un Workflow Document.
- Aucune décision de transition ne provient d’un Workflow Document.

---
Fin du document
---

Document Metadata & Changelog

Changelog:
  - 1.3.0 (2025-12-18): Ajout des sections normatives “Utilisation comme template de création” et “Interdictions”, clarification explicite du statut template (création uniquement) et des interdictions de déduction d’état et de synchronisation automatique.
  - 1.2.0 (2025-12-17): Déclassement normatif du Workflow Document en artefact descriptif non exécutif, ajout d’invariants interdisant toute interprétation d’état courant ou de conditions exécutables.
  - 1.1.1 (2025-12-16): Correction de cohérence de version affichée et normalisation mineure de présentation sans changement des règles.
  - 1.1.0 (2025-12-10): Mise à jour pour alignement complet avec WorkflowEngineSchema 1.1.0 et UniversalDocumentSchema 1.1.0
  - 1.0.0 (2025-12-10): Initialisation du module spécialisé Workflow Document

Breaking Changes:
  - Aucun depuis 1.1.0.
